/// 
/// [ğŸ’¼ ê³¼ì œ 6] ìì‹ ì˜ ë²½ëŒ ê¹¨ê¸° ê²Œì„ì„ ì™„ì„±í•˜ì.
/// 
///
///
/// # ìš”êµ¬ ì‚¬í•­
///
/// 1. ìŠ¤íƒ€ì¼ ê°œì„ 
/// - ê³µ, íŒ¨ë“œ, ë²½ëŒì˜ ìƒ‰ìƒê³¼ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ì—¬ ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ìœ¼ë¡œ ë§Œë“œì„¸ìš”.
/// - ê³µì˜ ìƒ‰ìƒê³¼ ìŠ¤íƒ€ì¼ì„ ë” ë‹¤ì±„ë¡­ê³  ë§¤ë ¥ì ìœ¼ë¡œ ë§Œë“œì„¸ìš”.
/// - íŒ¨ë“œì™€ ë²½ëŒì˜ ìŠ¤íƒ€ì¼ì„ ê°œì„ í•˜ì—¬ ë” í˜„ëŒ€ì ì´ê³  ì‹œê°ì ìœ¼ë¡œ ì¦ê±°ìš´ ë””ìì¸ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”.
///
/// 2. ì¶”ê°€ ê¸°ëŠ¥
/// - ì ìˆ˜ ì‹œìŠ¤í…œ: ê³µì´ ë²½ëŒì„ ê¹¨ë©´ ì ìˆ˜ê°€ ì¦ê°€í•˜ê³ , í™”ë©´ì— ì ìˆ˜ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
/// - ë ˆë²¨ ì‹œìŠ¤í…œ: ëª¨ë“  ë²½ëŒì´ ì œê±°ë˜ë©´ ë ˆë²¨ì´ ì˜¬ë¼ê°€ê³  ë²½ëŒì˜ ë°°ì—´ì´ ë³€ê²½ë©ë‹ˆë‹¤.
/// - ë°°ê²½ ìŒì•…: ê²Œì„ í”Œë ˆì´ ì¤‘ ë°°ê²½ ìŒì•…ì„ ì¶”ê°€í•˜ê³ , ë²½ëŒì´ ê¹¨ì§ˆ ë•Œ íš¨ê³¼ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤.
/// - ì• ë‹ˆë©”ì´ì…˜: ê³µì´ ë²½ëŒì— ë¶€ë”ªí ë•Œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì¶”ê°€í•˜ì—¬ ê²Œì„ì„ ë” ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ ë³´ì„¸ìš”.
///
/// 3. ë²„ê·¸ ìˆ˜ì • ë° ê°œì„ 
/// - í˜„ì¬ ì½”ë“œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê³ , ê³µê³¼ ë²½ëŒì˜ ì¶©ëŒì„ ë”ìš± ì •ë°€í•˜ê²Œ ì¡°ì •í•˜ì„¸ìš”.
/// - íŒ¨ë“œì™€ ê³µì˜ ìƒí˜¸ì‘ìš©ì„ ê°œì„ í•˜ì—¬ ê²Œì„ì´ ë” ì¬ë¯¸ìˆê³  ë„ì „ì ì´ê²Œ ë§Œë“œì„¸ìš”.
///
/// 4. ë””ìì¸ ê°œì„ 
/// - íŒ¨ë“œì™€ ê³µì˜ ì›€ì§ì„ì„ ë¶€ë“œëŸ½ê³  ìì—°ìŠ¤ëŸ½ê²Œ ë³´ì´ë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.
/// - ë²½ëŒì˜ ë°°ì¹˜ë¥¼ ë” ë‹¤ì–‘í•œ í˜•íƒœë¡œ ë³€ê²½í•˜ê±°ë‚˜, ë‹¤ì–‘í•œ í¬ê¸°ì˜ ë²½ëŒì„ ì¶”ê°€í•´ ë³´ì„¸ìš”.
///
///
///
/// # ì‘ì„± ë°©ë²•
///
/// 1. ìŠ¤íƒ€ì¼ ê°œì„ 
/// - ballDrawingMovement(), padDrawingMovement(), bricksDrawing() í•¨ìˆ˜ì—ì„œ ìƒ‰ìƒ, í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ ë“±ì„ ë³€ê²½í•˜ì—¬ ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ë””ìì¸ì„ ë§Œë“œì„¸ìš”.
/// - ì˜ˆë¥¼ ë“¤ì–´, ê³µì— ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒì„ ì¶”ê°€í•˜ê±°ë‚˜ ë²½ëŒì— í…ìŠ¤ì²˜ë¥¼ ì ìš©í•´ ë³´ì„¸ìš”.
///
/// 2. ì ìˆ˜ ì‹œìŠ¤í…œ êµ¬í˜„
/// - ì „ì—­ ë³€ìˆ˜ë¡œ scoreë¥¼ ì¶”ê°€í•˜ê³ , ë²½ëŒì´ ê¹¨ì§ˆ ë•Œë§ˆë‹¤ ì ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
/// - draw() í•¨ìˆ˜ì— ì ìˆ˜ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
///
/// 3. ë ˆë²¨ ì‹œìŠ¤í…œ êµ¬í˜„
/// - ëª¨ë“  ë²½ëŒì´ ì œê±°ë˜ë©´ ìƒˆë¡œìš´ ë ˆë²¨ë¡œ ë„˜ì–´ê°€ê³ , ë²½ëŒì˜ ë°°ì¹˜ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.
/// - ë ˆë²¨ì´ ì˜¤ë¥¼ ë•Œ ë²½ëŒì˜ ìƒ‰ìƒì´ë‚˜ ë°°ì¹˜ íŒ¨í„´ì„ ë‹¤ë¥´ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.
///
/// 4. ë°°ê²½ ìŒì•… ë° íš¨ê³¼ìŒ ì¶”ê°€
/// - p5.jsì˜ p5.sound ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ê²½ ìŒì•…ê³¼ íš¨ê³¼ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤.
/// - ê³µì´ ë²½ëŒì— ë¶€ë”ªí ë•Œ íš¨ê³¼ìŒì„ ì¬ìƒí•©ë‹ˆë‹¤.
///
/// 5. ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
/// - ê³µì´ ë²½ëŒì— ë¶€ë”ªí ë•Œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì¶”ê°€í•˜ì—¬ ê²Œì„ì„ ë” ë™ì ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.
/// - ì˜ˆë¥¼ ë“¤ì–´, ë²½ëŒì´ ê¹¨ì§ˆ ë•Œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ê³µì˜ ë°˜ì‘ì„ ì‹œê°ì ìœ¼ë¡œ ê°•í™”í•©ë‹ˆë‹¤.
///
///
///



/// values
let ballX;
let ballY;
let ballWidth = 50;
let ballHeight = 50;
let ballXDir;
let ballYDir;
let speed;

let padY;
let padWidth = 80;
let padHeight = 20;

let bricks = [];
let brickColumnCount = 10;
let brickRowCount = 6;
let brickStartX = 10;
let brickStartY = 20;
let brickWidth = 60;
let brickHeight = 20;
let rowPadding = 4;
let columnPadding = 4;

/// color
let color = {
    background: "#faf8f7",
    ball: "#ffffff",
    ballOutLine: "#999999",
    pad: "#ffffff",
    padOutLine: "#999999",
};
let strokeColor = '#cccccc';
let turnOnColor = '#000000';
let turnOffColor = '#ffffff';
let brickColors = [
    '#ffe1e8', '#ffd8dd', '#ffd0d2', '#ffe8c7', '#fff1b6',
    '#fff6a8', '#e8f8c5', '#d4f7c8', '#c2f5d2', '#b8f3dd',
    '#b4f0e6', '#b7eced', '#bee6f4', '#c5e0f8', '#cbdcfb',
    '#d3d8fd', '#dbd5ff', '#e2d4ff', '#ecd5ff', '#f7d9ff'
];

/// --------------[Basic Action]--------------
function setup() {
    setData();
    createCanvas(windowWidth, windowHeight);
}

function draw() {
    background(color.background);

    moveBall();

    drawBricks();

    drawBall();
    drawPad();
}


/// --------------[Set Data]--------------
function setData() {
    ballX = windowWidth / 2;
    ballY = windowHeight / 2;

    speed = 4;
    ballXDir = speed;
    ballYDir = speed;

    padY = windowHeight - 50;

    /// ë²½ëŒ > 2ì°¨ì› ë°°ì—´ë¡œ ì´ˆê¸°í™”
    for (let y = 0; y < brickRowCount; y++) {
        let row = [];
        let currentColor = getBrickColor(y);
        for (let x = 0; x < brickColumnCount; x++) {
            row[x] = currentColor;
        }
        bricks[y] = row;
    }
}

/// --------------[Interaction]--------------
function keyPressed() {
    if (key === 's') {
        saveGif('mySketch', 5);
    }
}

/// --------------[Move Entity]--------------
function moveBall() {
    ballX = ballX + ballXDir;
    ballY = ballY + ballYDir;



    /// ë³¼ì´ ì–‘ì˜†ì— ë‹¿ì•˜ì„ ë•Œ X ë°©í–¥ ì „í™˜
    if (ballX - ballWidth / 2 < 0 ||
        ballX + ballWidth / 2 > width) {
        ballXDir *= -1;
    }

    /// ë³¼ì´ ìœ„ì•„ë˜ì— ë‹¿ì•˜ì„ ë•Œ Y ë°©í–¥ ì „í™˜
    if (ballY - ballHeight / 2 < 0 ||
        ballY + ballHeight / 2 > height) {
        ballYDir *= -1;
    }


}

/// --------------[Draw Entity]--------------
function drawBall() {
    fill(color.ball);
    stroke(color.ballOutLine);


    ellipse(ballX, ballY, ballWidth, ballHeight);
}

function drawPad() {
    fill(color.pad);
    stroke(color.padOutLine);

    if (mouseIsPressed) {
        rect(
            mouseX, padY,
            padWidth, padHeight
        );
    }
}

function drawBricks() {
    for (let y = 0; y < brickRowCount; y++) {
        for (let x = 0; x < brickColumnCount; x++) {
            stroke(strokeColor);
            fill(bricks[y][x]);
            brickX = brickStartX + x * brickWidth + x * columnPadding;
            brickY = brickStartY + y * brickHeight + y * rowPadding;
            rect(brickX, brickY, brickWidth, brickHeight);
        }
    }
}


/// --------------[Function]--------------
function getBrickColor(row) {
    return brickColors[row % brickColors.length];
}